{"ast":null,"code":"import * as React from 'react';\nimport { io } from 'socket.io-client';\nimport { reaction } from 'mobx';\nimport { createBrowserHistory } from 'history';\nimport AuthStore from './AuthStore';\nexport const StoreContext = /*#__PURE__*/React.createContext(null);\nexport class Store {\n  constructor() {\n    this.history = createBrowserHistory();\n    this.AuthStore = AuthStore(); //this.AuthStore = new AuthStore();\n\n    /*this.socket = io(\n        '',\n        {\n          transports: ['websocket'],\n          query: {\n            token: this.AuthStore?.token\n          }\n        }\n      );\n    this.socket.io.on(\n        'reconnect_attempt',\n        () => {\n          this.socket.io.opts.query.token = this.AuthStore?.token;\n        }\n      );\n    reaction(\n        () => this.AuthStore.token,\n        () => {\n          this.socket.disconnect();\n          this.socket.connect();\n        }\n      );*/\n  }\n\n}","map":{"version":3,"names":["React","io","reaction","createBrowserHistory","AuthStore","StoreContext","createContext","Store","constructor","history"],"sources":["/media/vasya/Trash/files/Учеба/ШП/Выпускной проект/project/client/src/stores/index.js"],"sourcesContent":["import * as React from 'react';\nimport {io} from 'socket.io-client';\nimport {reaction} from 'mobx';\nimport {createBrowserHistory} from 'history';\nimport AuthStore from './AuthStore';\n\nexport const StoreContext = React.createContext(null);\nexport class Store {\n  socket;\n  history;\n  AuthStore;\n  constructor() {\n    this.history = createBrowserHistory();\n    this.AuthStore = AuthStore();\n    //this.AuthStore = new AuthStore();\n\n\n    /*this.socket = io(\n        '',\n        {\n          transports: ['websocket'],\n          query: {\n            token: this.AuthStore?.token\n          }\n        }\n      );\n    this.socket.io.on(\n        'reconnect_attempt',\n        () => {\n          this.socket.io.opts.query.token = this.AuthStore?.token;\n        }\n      );\n    reaction(\n        () => this.AuthStore.token,\n        () => {\n          this.socket.disconnect();\n          this.socket.connect();\n        }\n      );*/\n  }\n}\n"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAAQC,EAAR,QAAiB,kBAAjB;AACA,SAAQC,QAAR,QAAuB,MAAvB;AACA,SAAQC,oBAAR,QAAmC,SAAnC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,OAAO,MAAMC,YAAY,gBAAGL,KAAK,CAACM,aAAN,CAAoB,IAApB,CAArB;AACP,OAAO,MAAMC,KAAN,CAAY;EAIjBC,WAAW,GAAG;IACZ,KAAKC,OAAL,GAAeN,oBAAoB,EAAnC;IACA,KAAKC,SAAL,GAAiBA,SAAS,EAA1B,CAFY,CAGZ;;IAGA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACG;;AAhCgB"},"metadata":{},"sourceType":"module"}